{% extends 'voting/base.html' %}

{% block title %}No Active Election - Student Union Voting System{% endblock %}

{% block extra_css %}
<style>
    .no-election-container {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 60vh;
        text-align: center;
        padding: 3rem 0;
    }
    
    .no-election-content {
        max-width: 600px;
        margin: 0 auto;
    }
    
    .no-election-icon {
        font-size: 6rem;
        color: rgba(44, 90, 160, 0.3);
        margin-bottom: 2rem;
        animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
        0% { transform: scale(1); opacity: 0.7; }
        50% { transform: scale(1.05); opacity: 1; }
        100% { transform: scale(1); opacity: 0.7; }
    }
    
    .no-election-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--primary-color);
        margin-bottom: 1rem;
    }
    
    .no-election-message {
        font-size: 1.2rem;
        color: #6c757d;
        margin-bottom: 2rem;
        line-height: 1.6;
    }
    
    .info-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin: 3rem 0;
    }
    
    .info-card {
        background: white;
        border-radius: 15px;
        padding: 2rem;
        box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        transition: transform 0.3s ease;
    }
    
    .info-card:hover {
        transform: translateY(-5px);
    }
    
    .info-card-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1rem;
        font-size: 1.5rem;
        color: white;
    }
    
    .info-card h4 {
        color: var(--primary-color);
        font-weight: 700;
        margin-bottom: 1rem;
    }
    
    .info-card p {
        color: #6c757d;
        margin: 0;
        line-height: 1.5;
    }
    
    .contact-section {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        padding: 2rem;
        margin: 2rem 0;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    .contact-title {
        color: var(--primary-color);
        font-weight: 700;
        margin-bottom: 1rem;
        text-align: center;
    }
    
    .contact-info {
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
        gap: 2rem;
        text-align: center;
    }
    
    .contact-item {
        flex: 1;
        min-width: 200px;
    }
    
    .contact-item i {
        font-size: 2rem;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
    }
    
    .contact-item h6 {
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: #2c3e50;
    }
    
    .contact-item p {
        margin: 0;
        color: #6c757d;
    }
    
    @media (max-width: 768px) {
        .no-election-icon {
            font-size: 4rem;
        }
        
        .no-election-title {
            font-size: 2rem;
        }
        
        .no-election-message {
            font-size: 1.1rem;
        }
        
        .contact-info {
            flex-direction: column;
        }
        
        .contact-item {
            min-width: auto;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="no-election-container">
    <div class="no-election-content">
        <div class="no-election-icon">
            <i class="bi bi-calendar-x"></i>
        </div>
        
        <h1 class="no-election-title">No Active Election</h1>
        
        <p class="no-election-message">
            There are currently no active elections in the student union voting system. 
            Elections will be announced through official channels when scheduled.
        </p>
        
        <div class="info-cards">
            <div class="info-card">
                <div class="info-card-icon" style="background: linear-gradient(135deg, #3498db, #2980b9);">
                    <i class="bi bi-bell"></i>
                </div>
                <h4>Stay Informed</h4>
                <p>
                    Keep an eye on official announcements from the student union office 
                    and your department notice boards for election schedules.
                </p>
            </div>
            
            <div class="info-card">
                <div class="info-card-icon" style="background: linear-gradient(135deg, #27ae60, #229954);">
                    <i class="bi bi-person-plus"></i>
                </div>
                <h4>Get Involved</h4>
                <p>
                    Consider running for a position or volunteering as a delegate 
                    when the next election period opens.
                </p>
            </div>
            
            <div class="info-card">
                <div class="info-card-icon" style="background: linear-gradient(135deg, #f39c12, #e67e22);">
                    <i class="bi bi-question-circle"></i>
                </div>
                <h4>Need Help?</h4>
                <p>
                    Contact the student union office or your department representatives 
                    for questions about upcoming elections.
                </p>
            </div>
        </div>
        
        <div class="contact-section">
            <h3 class="contact-title">
                <i class="bi bi-envelope me-2"></i>Contact Information
            </h3>
            
            <div class="contact-info">
                <div class="contact-item">
                    <i class="bi bi-building"></i>
                    <h6>Student Union Office</h6>
                    <p>Main Campus<br>Student Center, Room 201</p>
                </div>
                
                <div class="contact-item">
                    <i class="bi bi-telephone"></i>
                    <h6>Phone</h6>
                    <p>+254 123 456 789<br>Ext. 2010</p>
                </div>
                
                <div class="contact-item">
                    <i class="bi bi-envelope"></i>
                    <h6>Email</h6>
                    <p>elections@university.edu<br>studentunion@university.edu</p>
                </div>
                
                <div class="contact-item">
                    <i class="bi bi-clock"></i>
                    <h6>Office Hours</h6>
                    <p>Monday - Friday<br>8:00 AM - 5:00 PM</p>
                </div>
            </div>
        </div>
        
        <div class="mt-4">
            <a href="{% url 'dashboard' %}" class="btn btn-primary btn-lg">
                <i class="bi bi-arrow-clockwise me-2"></i>Refresh Dashboard
            </a>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Auto-refresh every 5 minutes to check for new elections
    setInterval(function() {
        // You can implement an AJAX call here to check for new elections
        // without fully refreshing the page
        checkForNewElections();
    }, 300000); // 5 minutes
    
    // Add subtle animations to info cards
    const observer = new IntersectionObserver(
        (entries) => {
            entries.forEach((entry, index) => {
                if (entry.isIntersecting) {
                    setTimeout(() => {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }, index * 100);
                }
            });
        },
        { threshold: 0.1 }
    );
    
    document.querySelectorAll('.info-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
});

function checkForNewElections() {
    // Optional: Make an AJAX request to check for new elections
    fetch('{% url "voting_status" %}')
        .then(response => response.json())
        .then(data => {
            if (data.election && data.election.name) {
                // New election found, show notification and refresh
                showToast('New election available! Refreshing page...', 'success');
                setTimeout(() => {
                    location.reload();
                }, 2000);
            }
        })
        .catch(error => {
            console.log('Could not check for new elections:', error);
        });
}
</script>
{% endblock %}